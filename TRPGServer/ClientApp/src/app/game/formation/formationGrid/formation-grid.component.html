<div *ngIf="formation != null" class="formation-grid">
  <div [ngClass]="getNameStyles()" class="formation-name">{{formation.name}}</div>
  <table (click)="onClicked.emit(formation)"
         (mouseenter)="onMouseEnter.emit(formation)"
         (mouseleave)="onMouseLeave.emit(formation)">
    <tr *ngFor="let row of formation.positions; let i = index" class="formation-row">
      <td *ngFor="let entity of row; let j = index">
        <game-formation-node [entity]="entity"
                             [formation]="formation"
                             [specialIconsFunc]="specialIconsFunc"
                             [coordinate]="getCoordinate(j, i)"
                             [getNodeStateFunc]="getNodeStateFunc"
                             (onClick)="nodeClicked($event)"
                             (onMouseEnter)="nodeMouseEnter($event)"
                             (onMouseLeave)="nodeMouseLeave($event)"
                             (onContextMenu)="nodeContextMenu($event)"></game-formation-node>
      </td>
    </tr>
  </table>
</div>
